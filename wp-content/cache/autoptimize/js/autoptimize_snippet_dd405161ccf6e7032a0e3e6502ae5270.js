const modal=document.getElementById("contactmodal");const btns=document.querySelectorAll(".contactbtn");btns.forEach((btn)=>{btn.addEventListener("click",(e)=>{e.preventDefault();modal.style.display="block";});});window.addEventListener("click",(event)=>{if(event.target===modal){modal.style.display="none";}});const button=document.querySelector(".btnburgernmenu");const menuburger=document.querySelector(".menuburger");const nav=document.querySelector(".nav-burger");button.addEventListener("click",()=>{menuburger.classList.toggle("openburger");nav.classList.toggle("menuburgeropen");button.classList.toggle("burgeractive");if(menuburger.classList.contains("openburger")){document.body.style.overflow="hidden";}else{document.body.style.overflow="auto";}});document.querySelectorAll(".custom-select").forEach(setupSelector);function setupSelector(selector){selector.addEventListener("change",(e)=>{console.log("changé",e.target.value);});if(window.innerWidth>=420){selector.addEventListener("mousedown",(e)=>{e.preventDefault();const select=selector.children[0];const dropDown=document.createElement("ul");dropDown.className="selector-options";[...select.children].forEach((option)=>{const dropDownOption=document.createElement("li");dropDownOption.textContent=option.textContent;dropDownOption.addEventListener("mousedown",(e)=>{e.stopPropagation();select.value=option.value;selector.value=option.value;select.dispatchEvent(new Event("change"));selector.dispatchEvent(new Event("change"));dropDown.remove();});dropDown.appendChild(dropDownOption);});selector.appendChild(dropDown);document.addEventListener("click",(e)=>{if(!selector.contains(e.target)){dropDown.remove();}});});}}
jQuery(document).ready(function($){const contactBtn=$(".contactbtn");const refPhotoInput=$('[name="ref-photo"]');contactBtn.on("click",function(){const photoReference=$(this).data("photo-reference");refPhotoInput.val(photoReference);});});document.addEventListener("DOMContentLoaded",function(){var thickboxIcons=document.querySelectorAll(".thickbox");thickboxIcons.forEach(function(icon){icon.addEventListener("click",function(e){e.preventDefault();var imageContainer=icon.closest(".image-container");var fullImageURL=getComputedStyle(imageContainer).backgroundImage.replace('url("',"").replace('")',"");var photoReference=imageContainer.getAttribute("data-reference");var photoCategoryElement=imageContainer.querySelector(".photo-category");var photoCategory=photoCategoryElement?photoCategoryElement.textContent:"";var galleryImages=document.querySelectorAll(".image-container");var galleryItems=[];var currentIndex=0;galleryImages.forEach(function(image,index){var imageURL=getComputedStyle(image).backgroundImage.replace('url("',"").replace('")',"");galleryItems.push(imageURL);if(imageURL===fullImageURL){currentIndex=index;}});showThickbox(fullImageURL,photoReference,photoCategory,currentIndex,galleryImages,galleryItems);});});});function showThickbox(imageURL,reference,category,currentIndex,galleryImages,galleryItems){var overlay=document.createElement("div");overlay.classList.add("thickbox-overlay");var container=document.createElement("div");container.classList.add("thickbox-container");var closeButton=document.createElement("span");closeButton.classList.add("thickbox-close");closeButton.innerHTML="&#10005;";closeButton.addEventListener("click",function(){document.body.removeChild(overlay);});var imageElement=document.createElement("img");imageElement.src=imageURL;container.appendChild(imageElement);var infoElement=document.createElement("div");infoElement.classList.add("thickbox-info");infoElement.innerHTML='<p class="photo-reference">'+
reference+'</p><h4 class="photo-category">'+
category+"</h4>";container.appendChild(infoElement);var prevArrow=document.createElement("span");prevArrow.classList.add("thickbox-prev");prevArrow.innerHTML='<img src="http://localhost/p11/wp-content/uploads/2023/08/Line-7-3.png" alt="Précédent" class="arrow-image"> <span class="arrow-text">Précédent</span>';prevArrow.addEventListener("click",function(){currentIndex=(currentIndex-1+galleryItems.length)%galleryItems.length;imageElement.src=galleryItems[currentIndex];reference=galleryImages[currentIndex].getAttribute("data-reference");category=galleryImages[currentIndex].querySelector(".photo-category").textContent;infoElement.innerHTML='<p class="photo-reference">'+
reference+'</p><h4 class="photo-category">'+
category+"</h4>";});var nextArrow=document.createElement("span");nextArrow.classList.add("thickbox-next");nextArrow.innerHTML='<span class="arrow-text">Suivant</span> <img src="http://localhost/p11/wp-content/uploads/2023/08/Line-7-2.png" alt="Suivant" class="arrow-image">';nextArrow.addEventListener("click",function(){currentIndex=(currentIndex+1)%galleryItems.length;imageElement.src=galleryItems[currentIndex];reference=galleryImages[currentIndex].getAttribute("data-reference");category=galleryImages[currentIndex].querySelector(".photo-category").textContent;infoElement.innerHTML='<p class="photo-reference">'+
reference+'</p><h4 class="photo-category">'+
category+"</h4>";});container.appendChild(prevArrow);container.appendChild(nextArrow);overlay.appendChild(container);overlay.appendChild(closeButton);document.body.appendChild(overlay);}
function initializeThickbox(){var thickboxIcons=document.querySelectorAll(".thickbox");thickboxIcons.forEach(function(icon){icon.addEventListener("click",function(e){e.preventDefault();if(icon.getAttribute("data-thickbox-initialized")==="true"){return;}
var imageContainer=icon.closest(".image-container");var fullImageURL=getComputedStyle(imageContainer).backgroundImage.replace('url("',"").replace('")',"");var photoReference=imageContainer.getAttribute("data-reference");var photoCategory=imageContainer.querySelector(".photo-category").textContent;var galleryImages=document.querySelectorAll(".image-container");var galleryItems=[];var currentIndex=0;galleryImages.forEach(function(image,index){var imageURL=getComputedStyle(image).backgroundImage.replace('url("',"").replace('")',"");galleryItems.push(imageURL);if(imageURL===fullImageURL){currentIndex=index;}});icon.setAttribute("data-thickbox-initialized","true");showThickbox(fullImageURL,photoReference,photoCategory,currentIndex,galleryImages,galleryItems);});});}
let images=document.querySelectorAll(".carousel-image");let currentIndex=0;function showImage(index){images.forEach(function(image){image.style.display="none";});images[index].style.display="block";currentIndex=index;}
images.forEach(function(image,index){let imageId=parseInt(image.dataset.photoId);if(imageId===currentPhotoId){image.style.display="none";}});showImage(currentIndex);function navigateCarousel(direction){if(direction==="prev"){currentIndex=(currentIndex-1+images.length)%images.length;}else if(direction==="next"){currentIndex=(currentIndex+1)%images.length;}
showImage(currentIndex);};